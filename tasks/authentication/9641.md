# Bug: Slack Auth doesn't work with OIDC

## Details
- **Issue ID**: #9641
- **Status**: Open
- **Priority**: Low
- **Category**: authentication
- **Created**: 7/15/2025
- **Updated**: 7/15/2025
- **Author**: tommoor


## Labels
- bug
- self-hosted

## Description
Hi everyone!

I'm trying to host Outline with OIDC and Slack authentication because some of my team members are not in Slack. I have followed all the steps to add Slack authentication and can confirm that it works perfectly if I disable OIDC authentication. However, the issue arises when I try using them simultaneously. This is the issue I got when login using Slack

{"error":"Invalid authentication","level":"error","message":"Error during authentication","stack":"UnauthorizedError: Invalid authentication\n    at InvalidAuthenticationError (/opt/outline/build/server/errors.js:52:34)\n    at teamProvisioner (/opt/outline/build/server/commands/teamProvisioner.js:74:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}

Please take note that when I first created outline, I used my company domain for the super user of OIDC. However, when I implemented Slack auth, all of my team members are "@gmail.com". I thought this is the root of the issue so I have added "gmail.com" to the allowed domain in the app, but it doesn't seem to work.
![image](https://github.com/user-attachments/assets/f4345859-4d63-4169-928f-88f9e153f454)

Thank you very much for your attention. Every help is appreciated.

_Originally posted by @vo-d in https://github.com/outline/outline/discussions/9016_

## Original Issue
https://github.com/outline/outline/issues/9641

## Notes
- This bug was imported from the original Outline repository
- Original issue: https://github.com/outline/outline/issues/9641
- Please verify if this issue is still relevant in this fork

## Tasks
- [ ] Investigate if this bug exists in current codebase
- [ ] Reproduce the issue if possible
- [ ] Determine root cause
- [ ] Implement fix
- [ ] Add tests to prevent regression
- [ ] Update documentation if needed

---
*Imported on 2025-07-27T06:43:33.909Z*
